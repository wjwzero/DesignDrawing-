<mxfile host="app.diagrams.net" modified="2021-04-14T06:37:56.354Z" agent="5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.72 Safari/537.36" etag="XRjP1Zn8e2B99U_t3dha" version="14.2.9" type="github">
  <diagram id="nNrxbBQGZD3dQ9b2gms4" name="第 1 页">
    <mxGraphModel dx="1178" dy="655" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="_NeroS5PR03IgRyvDBON-1" value="" style="fillColor=#DEE8FF;strokeColor=none" parent="1" vertex="1">
          <mxGeometry x="80" y="20" width="694" height="460" as="geometry" />
        </mxCell>
        <mxCell id="_NeroS5PR03IgRyvDBON-2" value="南向服务" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="1" vertex="1">
          <mxGeometry x="152.5" y="60" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="_NeroS5PR03IgRyvDBON-5" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="1" vertex="1">
          <mxGeometry x="340" y="164.39" width="10" height="45.61" as="geometry" />
        </mxCell>
        <mxCell id="_NeroS5PR03IgRyvDBON-6" value="Kafka" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="1" vertex="1">
          <mxGeometry x="295" y="60" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="_NeroS5PR03IgRyvDBON-7" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="1" source="_NeroS5PR03IgRyvDBON-6" target="_NeroS5PR03IgRyvDBON-5" edge="1">
          <mxGeometry x="272.3350694444445" y="165" width="100" height="100" as="geometry">
            <mxPoint x="347.2588734567901" y="110" as="sourcePoint" />
            <mxPoint x="347.5761959876544" y="165" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_NeroS5PR03IgRyvDBON-8" value="MQTT Broker" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="1" vertex="1">
          <mxGeometry x="440.00395061728386" y="59.99999999999997" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="_NeroS5PR03IgRyvDBON-9" value="IOT设备" style="shadow=1;fillColor=#A2C4C9;strokeColor=none" parent="1" vertex="1">
          <mxGeometry x="600.22" y="60" width="105" height="50" as="geometry" />
        </mxCell>
        <mxCell id="_NeroS5PR03IgRyvDBON-10" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=none;dashed=1" parent="1" source="_NeroS5PR03IgRyvDBON-2" edge="1">
          <mxGeometry x="230.00000000000003" y="310" width="100" height="100" as="geometry">
            <mxPoint x="230.00000000000003" y="410" as="sourcePoint" />
            <mxPoint x="205" y="220" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_NeroS5PR03IgRyvDBON-11" value="" style="edgeStyle=none;dashed=1;endArrow=none" parent="1" edge="1">
          <mxGeometry x="50" y="300" width="100" height="100" as="geometry">
            <mxPoint x="205" y="210" as="sourcePoint" />
            <mxPoint x="205" y="450" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_NeroS5PR03IgRyvDBON-12" value="1:云平台发送消息 Push" style="edgeStyle=none;verticalLabelPosition=top;verticalAlign=bottom;entryX=0.75;entryY=0;entryDx=0;entryDy=0;" parent="1" target="_NeroS5PR03IgRyvDBON-5" edge="1">
          <mxGeometry x="242.95524691358025" y="77.09550925925925" width="100" height="100" as="geometry">
            <mxPoint x="210" y="164" as="sourcePoint" />
            <mxPoint x="320" y="164.38563271604943" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_NeroS5PR03IgRyvDBON-13" value="" style="edgeStyle=none;endArrow=none;dashed=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="_NeroS5PR03IgRyvDBON-24" edge="1">
          <mxGeometry x="431.4878472222224" y="174.99999999999997" width="100" height="100" as="geometry">
            <mxPoint x="492.2857142857142" y="410" as="sourcePoint" />
            <mxPoint x="492" y="450" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_NeroS5PR03IgRyvDBON-14" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="1" source="_NeroS5PR03IgRyvDBON-26" edge="1">
          <mxGeometry x="592.2078472222224" y="174.99999999999997" width="100" height="100" as="geometry">
            <mxPoint x="652.7289514066497" y="110" as="sourcePoint" />
            <mxPoint x="652.7200000000003" y="450" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_NeroS5PR03IgRyvDBON-15" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="1" vertex="1">
          <mxGeometry x="200" y="160" width="10" height="280" as="geometry" />
        </mxCell>
        <mxCell id="_NeroS5PR03IgRyvDBON-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.028;entryY=0.089;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="496.72" y="239.99999999999997" />
            </Array>
            <mxPoint x="497.22" y="239.99999999999997" as="sourcePoint" />
            <mxPoint x="647.7200000000003" y="240.00999999999996" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_NeroS5PR03IgRyvDBON-19" value="4：Publish Qos1 msg" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="_NeroS5PR03IgRyvDBON-18" vertex="1" connectable="0">
          <mxGeometry x="-0.3279" y="-1" relative="1" as="geometry">
            <mxPoint x="24.68" y="-20.58" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_NeroS5PR03IgRyvDBON-20" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="1" source="_NeroS5PR03IgRyvDBON-24" edge="1">
          <mxGeometry x="431.4878472222224" y="174.99999999999997" width="100" height="100" as="geometry">
            <mxPoint x="492" y="110" as="sourcePoint" />
            <mxPoint x="492.44444444444434" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_NeroS5PR03IgRyvDBON-21" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="1" source="EqaIRiOVL16V27noSrxL-5" edge="1">
          <mxGeometry x="376.5711805555559" y="339.6971450617284" width="100" height="100" as="geometry">
            <mxPoint x="345" y="510" as="sourcePoint" />
            <mxPoint x="345" y="450" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_NeroS5PR03IgRyvDBON-22" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;exitX=0;exitY=0.25;exitDx=0;exitDy=0;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="210" y="256.5" as="targetPoint" />
            <Array as="points">
              <mxPoint x="488" y="256.5" />
            </Array>
            <mxPoint x="487.5" y="250" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_NeroS5PR03IgRyvDBON-23" value="5：发送成功 Puback" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="_NeroS5PR03IgRyvDBON-22" vertex="1" connectable="0">
          <mxGeometry x="-0.3718" y="1" relative="1" as="geometry">
            <mxPoint x="-114.83" y="-7.4999999999999964" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_NeroS5PR03IgRyvDBON-24" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="1" vertex="1">
          <mxGeometry x="487.5" y="230" width="10" height="120" as="geometry" />
        </mxCell>
        <mxCell id="_NeroS5PR03IgRyvDBON-25" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="1" target="_NeroS5PR03IgRyvDBON-24" edge="1">
          <mxGeometry x="431.4878472222224" y="174.99999999999997" width="100" height="100" as="geometry">
            <mxPoint x="492" y="110" as="sourcePoint" />
            <mxPoint x="492.44444444444434" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_NeroS5PR03IgRyvDBON-26" value="" style="fillColor=#CC4125;strokeColor=#660000" parent="1" vertex="1">
          <mxGeometry x="647.72" y="240" width="10" height="50" as="geometry" />
        </mxCell>
        <mxCell id="_NeroS5PR03IgRyvDBON-27" value="" style="edgeStyle=none;endArrow=none;dashed=1" parent="1" source="_NeroS5PR03IgRyvDBON-9" target="_NeroS5PR03IgRyvDBON-26" edge="1">
          <mxGeometry x="592.2078472222224" y="174.99999999999997" width="100" height="100" as="geometry">
            <mxPoint x="652.72" y="110" as="sourcePoint" />
            <mxPoint x="652.72" y="450" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_NeroS5PR03IgRyvDBON-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.028;entryY=0.089;entryDx=0;entryDy=0;entryPerimeter=0;startArrow=classic;startFill=1;endArrow=none;endFill=0;dashed=1;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="497" y="280" />
            </Array>
            <mxPoint x="497.5" y="280" as="sourcePoint" />
            <mxPoint x="648" y="280.01" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_NeroS5PR03IgRyvDBON-29" value="6：Puback" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="_NeroS5PR03IgRyvDBON-28" vertex="1" connectable="0">
          <mxGeometry x="-0.3279" y="-1" relative="1" as="geometry">
            <mxPoint x="24.68" y="-18.71" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_NeroS5PR03IgRyvDBON-30" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.928;exitY=0.095;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="497.50000000000045" y="309.5879499999997" as="sourcePoint" />
            <mxPoint x="498.5" y="339.9800000000001" as="targetPoint" />
            <Array as="points">
              <mxPoint x="517.5" y="309.97999999999996" />
              <mxPoint x="517.5" y="339.97999999999996" />
              <mxPoint x="498.5" y="339.97999999999996" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="_NeroS5PR03IgRyvDBON-31" value="6.1：Delete（Msg）" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="_NeroS5PR03IgRyvDBON-30" vertex="1" connectable="0">
          <mxGeometry x="-0.3144" y="-1" relative="1" as="geometry">
            <mxPoint x="60.5" y="6.73" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_NeroS5PR03IgRyvDBON-32" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.928;exitY=0.095;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="210.00000000000045" y="390.0079499999997" as="sourcePoint" />
            <mxPoint x="211" y="420.4000000000001" as="targetPoint" />
            <Array as="points">
              <mxPoint x="230" y="390.4" />
              <mxPoint x="230" y="420.4" />
              <mxPoint x="211" y="420.4" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="_NeroS5PR03IgRyvDBON-33" value="9：消息到达日志&lt;br&gt;，批量入库" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="_NeroS5PR03IgRyvDBON-32" vertex="1" connectable="0">
          <mxGeometry x="-0.3144" y="-1" relative="1" as="geometry">
            <mxPoint x="51" y="6.73" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EqaIRiOVL16V27noSrxL-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;startArrow=classic;startFill=1;endArrow=none;endFill=0;dashed=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="209.5" y="200" />
            </Array>
            <mxPoint x="210" y="200" as="sourcePoint" />
            <mxPoint x="340" y="200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EqaIRiOVL16V27noSrxL-2" value="2：pull数据，批处理" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="EqaIRiOVL16V27noSrxL-1">
          <mxGeometry x="-0.3279" y="-1" relative="1" as="geometry">
            <mxPoint x="24.68" y="-18.71" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EqaIRiOVL16V27noSrxL-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="209.5" y="230" />
            </Array>
            <mxPoint x="210" y="230" as="sourcePoint" />
            <mxPoint x="490" y="230" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EqaIRiOVL16V27noSrxL-4" value="3：Publish Qos1 msg" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="EqaIRiOVL16V27noSrxL-3">
          <mxGeometry x="-0.3279" y="-1" relative="1" as="geometry">
            <mxPoint x="109.83000000000001" y="-11" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EqaIRiOVL16V27noSrxL-5" value="" style="fillColor=#CC4125;strokeColor=#660000" vertex="1" parent="1">
          <mxGeometry x="340" y="330" width="10" height="50" as="geometry" />
        </mxCell>
        <mxCell id="EqaIRiOVL16V27noSrxL-6" value="" style="edgeStyle=none;endArrow=none;dashed=1" edge="1" parent="1" source="_NeroS5PR03IgRyvDBON-5" target="EqaIRiOVL16V27noSrxL-5">
          <mxGeometry x="376.5711805555559" y="339.6971450617284" width="100" height="100" as="geometry">
            <mxPoint x="345" y="209.9999999999999" as="sourcePoint" />
            <mxPoint x="345" y="450" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EqaIRiOVL16V27noSrxL-7" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.928;exitY=0.095;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="210.00000000000045" y="270.02794999999975" as="sourcePoint" />
            <mxPoint x="211" y="300.42000000000013" as="targetPoint" />
            <Array as="points">
              <mxPoint x="230" y="270.42" />
              <mxPoint x="230" y="300.42" />
              <mxPoint x="211" y="300.42" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EqaIRiOVL16V27noSrxL-8" value="5.1：Delete(Msg)" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="EqaIRiOVL16V27noSrxL-7">
          <mxGeometry x="-0.3144" y="-1" relative="1" as="geometry">
            <mxPoint x="51" y="6.73" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EqaIRiOVL16V27noSrxL-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="209.5" y="350.39" />
            </Array>
            <mxPoint x="210" y="350.39" as="sourcePoint" />
            <mxPoint x="340" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EqaIRiOVL16V27noSrxL-11" value="7：WebHook&lt;br&gt;消息中间件异&lt;br&gt;步执行 push" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="EqaIRiOVL16V27noSrxL-10">
          <mxGeometry x="-0.3279" y="-1" relative="1" as="geometry">
            <mxPoint x="24.68" y="-31.26" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EqaIRiOVL16V27noSrxL-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;startArrow=classic;startFill=1;endArrow=none;endFill=0;dashed=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="209.5" y="379.99999999999994" />
            </Array>
            <mxPoint x="209.9999999999999" y="379.99999999999994" as="sourcePoint" />
            <mxPoint x="340" y="379.99999999999994" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EqaIRiOVL16V27noSrxL-13" value="8：pull数据，批处理" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="EqaIRiOVL16V27noSrxL-12">
          <mxGeometry x="-0.3279" y="-1" relative="1" as="geometry">
            <mxPoint x="24.68" y="-18.71" as="offset" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
